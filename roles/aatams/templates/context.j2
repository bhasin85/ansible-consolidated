<?xml version='1.0' encoding='utf-8'?>
<!-- The contents of this file will be loaded for each web application -->
<Context>

    <!-- Default set of monitored resources -->
    <WatchedResource>WEB-INF/web.xml</WatchedResource>

    <Resource

        factory="org.apache.tomcat.dbcp.dbcp.BasicDataSourceFactory"
        name="jdbc/aatams"
        auth="Container"
        type="javax.sql.DataSource"
        driverClassName="org.postgresql.Driver"
        url="jdbc:postgresql://localhost:5432/aatams?ssl=true&amp;sslfactory=org.postgresql.ssl.NonValidatingFactory"
        validationQuery="SELECT 1"
        username="aatams" password="aatams"
        maxActive="20" maxIdle="5" maxWait="-1"
        testOnBorrow="true" testWhileIdle="true" testOnReturn="true"
        timeBetweenEvictionRunsMillis="30000"
        numTestsPerEvictionRun="3"
        minEvictableIdleTimeMillis="60000"
        defaultAutoCommit="false"
    />

    <Environment name="aodn.configuration" value="/var/lib/tomcat7/aatams_data/aatams.groovy" type="java.lang.String" override="true"/>

</Context>

<!--

    factory="org.apache.commons.dbcp.BasicDataSourceFactory"
             org.apache.commons.dbcp.BasicDataSourceFactory
    factory="org.apache.tomcat.dbcp.dbcp.BasicDataSourceFactory"
-->

        <!-- Resource name="jdbc/aatams" auth="Container"
            type="javax.sql.DataSource" driverClassName="org.postgresql.Driver"
            url="jdbc:postgresql://localhost:5432/aatams?ssl=true&amp;sslfactory=org.postgresql.ssl.NonValidatingFactory"
            validationQuery="SELECT 1"
            username="aatams" password="aatams"
            maxActive="20" maxIdle="5" maxWait="-1"
            testOnBorrow="true" testWhileIdle="true" testOnReturn="true"
            timeBetweenEvictionRunsMillis="30000"
            numTestsPerEvictionRun="3"
            minEvictableIdleTimeMillis="60000"
            defaultAutoCommit="true"
        / -->


